<!DOCTYPE html>
<html lang="en">
<head>
	<title>User Registration</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
	<link rel="icon" type="image/png" href="images/icons/favicon.ico"/>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/iconic/css/material-design-iconic-font.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
<!--===============================================================================================-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
        integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
        integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
		crossorigin="anonymous"></script>
		
<script src="js/config.js"></script>
<style>
.company-name {
    font-family: 'Raleway', sans-serif;
    font-size: 1.6em;
    font-weight: 700;
    color: #8B4513;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    letter-spacing: 0.5px;
    text-transform: uppercase;
}
.footer-company-name {
    font-family: 'Raleway', sans-serif;
    font-size: 0.9em;
    font-weight: 500;
    color: #666;
}
.contact-company-name {
    font-family: 'Raleway', sans-serif;
    font-size: 1.6em;
    font-weight: 700;
    margin-bottom: 20px;
    line-height: 1.4;
    color: #8B4513;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    letter-spacing: 0.5px;
    text-transform: uppercase;
}
.contact-company-name strong {
    color: #D2691E;
    font-weight: 800;
    letter-spacing: 0.5px;
    display: block;
    margin-bottom: 5px;
}
.contact-section {
    padding: 30px 0;
    background: linear-gradient(to right, #FFF8DC, #FFE4B5);
    box-shadow: 0 2px 15px rgba(0,0,0,0.1);
}
.contact-section h2 {
    margin-bottom: 25px;
    font-weight: 700;
}
.contact-section h3 {
    color: #8B4513;
    font-size: 1.3em;
    font-weight: 600;
    margin-bottom: 20px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}
.contact-section p {
    margin-bottom: 15px;
    line-height: 1.6;
    color: #5C4033;
    font-weight: 500;
}
.contact-description {
    font-size: 1.15em;
    color: #5C4033;
    font-weight: 500;
    line-height: 1.8;
    margin-bottom: 25px;
    font-style: italic;
    padding: 15px;
    background: rgba(255,255,255,0.5);
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}
.contact-info {
    font-size: 1.1em;
    color: #8B4513;
    font-weight: 500;
    line-height: 2;
    margin-bottom: 15px;
    padding: 8px 15px;
    background: rgba(255,255,255,0.5);
    border-radius: 5px;
    transition: all 0.3s ease;
}
.contact-info:hover {
    background: rgba(255,255,255,0.8);
    transform: translateX(5px);
}
.contact-info i {
    color: #D2691E;
    margin-right: 15px;
    font-size: 1.2em;
    width: 25px;
    text-align: center;
    vertical-align: middle;
}
address {
    margin-top: 20px;
}
#footer {
    background: linear-gradient(to right, #FFF8DC, #FFE4B5);
    padding: 20px 0;
    box-shadow: 0 -2px 15px rgba(0,0,0,0.1);
}
#crowd {
    font-family: 'Raleway', sans-serif;
    font-size: 1.6em;
    font-weight: 700;
    color: #8B4513;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    letter-spacing: 0.5px;
    text-transform: uppercase;
    text-align: center;
    margin: 20px 0;
    padding: 15px;
    background: rgba(255,255,255,0.5);
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}
.form-group {
    margin-bottom: 1.5rem;
}
.form-control {
    height: 45px;
    border-radius: 4px;
    border: 1px solid #ced4da;
    padding: 0.375rem 0.75rem;
    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}
.form-control:focus {
    border-color: #3CB371;
    box-shadow: 0 0 0 0.2rem rgba(60, 179, 113, 0.25);
}
.btn-primary {
    background-color: #3CB371;
    border-color: #3CB371;
    padding: 0.5rem 2rem;
    font-weight: 500;
    transition: all 0.2s ease-in-out;
}
.btn-primary:hover {
    background-color: #2E8B57;
    border-color: #2E8B57;
    transform: translateY(-1px);
}
.alert {
    border-radius: 4px;
    padding: 1rem;
    margin-bottom: 1rem;
}
.alert-danger {
    background-color: #f8d7da;
    border-color: #f5c6cb;
    color: #721c24;
}
.alert-success {
    background-color: #d4edda;
    border-color: #c3e6cb;
    color: #155724;
}
</style>
</head>
<body>
	<div class="limiter" >
		<div class="container-login100">
			<div class="wrap-login100 p-t-85 p-b-20">
				<form class="login100-form validate-form" autocomplete="off" id="registerForm">
					<div style="text-align: center; margin-bottom: 20px;">
						<span id="crowd" style="font-size: 20px;">
							<strong>Kennettechnologies software & IT solutions</strong>
						<br><br>
						<i style="font-size: 18px;">User Registration</i>
					</div>
					<div id="errorContainer" class="alert alert-danger" style="display: none; margin-top: 20px;"></div>
					<div id="successContainer" class="alert alert-success" style="display: none; margin-top: 20px;"></div>
					
					<div class="form-group">
						<input id="username" class="form-control" type="text" name="username" placeholder="Username" required />
					</div>

					<div class="form-group">
						<input id="password" class="form-control" type="password" name="password" placeholder="Password" required />
					</div>

					<div class="form-group">
						<input id="companyName" class="form-control" type="text" name="companyName" placeholder="Company Name" required />
					</div>

					<div class="form-group">
						<input id="email" class="form-control" type="email" name="email" placeholder="Email" required />
					</div>
					
					<div class="container-login100-form-btn">
						<button type="submit" class="btn btn-primary btn-block">
							Register
						</button>
					</div>

					<ul style="margin-top:50px;">
						<li>
							<span class="txt1">Already have an account?</span>
							<a href="./app.html" class="txt2">Sign in</a>
						</li>
					</ul>
				</form>
			</div>
		</div>
	</div>
	<script>
		// Utility functions
		function showError(message) {
			const errorContainer = $('#errorContainer');
			errorContainer.text(message).show();
			$('#successContainer').hide();
		}

		function showSuccess(message) {
			const successContainer = $('#successContainer');
			successContainer.text(message).show();
			$('#errorContainer').hide();
		}

		// Handle form submission
		$('#registerForm').on('submit', async function(e) {
			e.preventDefault();
			
			const username = $('#username').val().trim();
			const password = $('#password').val().trim();
			const companyName = $('#companyName').val().trim();
			const email = $('#email').val().trim();

			if (!username || !password || !companyName || !email) {
				showError(config.ERROR_MESSAGES.INVALID_INPUT);
				return;
			}

			try {
				const response = await apiHelper.fetchWithAuth(
					`${config.API_BASE_URL}${config.ENDPOINTS.USER}/${username}`,
					{
						method: 'POST',
						body: JSON.stringify({
							password,
							companyName,
							email
						})
					}
				);

				if (response.success) {
					showSuccess('Registration successful! Redirecting to login...');
					setTimeout(() => {
						window.location.href = './app.html?message=Registration successful! Please login.';
					}, 2000);
				} else {
					showError(response.message || config.ERROR_MESSAGES.SERVER_ERROR);
				}
			} catch (error) {
				showError(apiHelper.handleError(error));
			}
		});
	</script>

	<div id="dropDownSelect1"></div>
	
<!--===============================================================================================-->
	<script src="vendor/jquery/jquery-3.2.1.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/animsition/js/animsition.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/bootstrap/js/popper.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/select2/select2.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/daterangepicker/moment.min.js"></script>
	<script src="vendor/daterangepicker/daterangepicker.js"></script>
<!--===============================================================================================-->
	<script src="vendor/countdowntime/countdowntime.js"></script>
<!--===============================================================================================-->
	<script src="js/main.js"></script>

<p class="footer-company-name">Copyright &copy; 2025 Kennettechnologies software & IT solutions</p>
</body>
</html>